(()=>{var e={666:e=>{var t=function(e){"use strict";var t,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var n=t&&t.prototype instanceof h?t:h,a=Object.create(n.prototype),o=new F(i||[]);return a._invoke=function(e,t,r){var i=u;return function(n,a){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===n)throw a;return W()}for(r.method=n,r.arg=a;;){var o=r.delegate;if(o){var s=C(o,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===u)throw i=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=d(e,t,r);if("normal"===l.type){if(i=r.done?f:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=f,r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",m="suspendedYield",p="executing",f="completed",g={};function h(){}function b(){}function v(){}var z={};z[a]=function(){return this};var L=Object.getPrototypeOf,y=L&&L(L(S([])));y&&y!==r&&i.call(y,a)&&(z=y);var q=v.prototype=h.prototype=Object.create(z);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(n,a,o,s){var l=d(e[n],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var n;this._invoke=function(e,i){function a(){return new t((function(t,n){r(e,i,t,n)}))}return n=n?n.then(a,a):a()}}function C(e,r){var i=e.iterator[r.method];if(i===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=d(i,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,g;var a=n.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:W}}function W(){return{value:t,done:!0}}return b.prototype=q.constructor=v,v.constructor=b,b.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(q),e},e.awrap=function(e){return{__await:e}},E(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,r,i,n,a){void 0===a&&(a=Promise);var o=new w(c(t,r,i,n),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(q),l(q,s,"Generator"),q[a]=function(){return this},q.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=S,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return s.type="throw",s.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;x(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:S(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}},t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(666),t=r.n(e);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function l(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){l(a,i,n,o,s,"next",e)}function s(e){l(a,i,n,o,s,"throw",e)}o(void 0)}))}}var d,u,m,p,f,g,h,b,v,z,L,y,q,E,w,C,k,x,F,S,W,A,T,Q,B,N,O,I,P,j,D=(d={startPage:"#front-page-main-content-wrapper",mainSectionWrapper:document.querySelector("#main-section-wrapper"),mainLogo:"#front-page-logo",mainLogoFaceFront:".face.front",mainLogoFaceTop:".face.top",mainLogoFaceLeft:".face.left",startBtn:"#front-page-start-btn",demoBtn:"#front-page-demo-btn",loginBtn:"#front-page-login-btn",registerBtn:"#front-page-register-btn",registerWrapper:document.querySelector("#register-wrapper"),registerFeedback:document.querySelector("#register-feedback-wrapper"),registerForm:document.querySelector("#register-form"),registerBackBtn:"#register-back-btn",formRegisterSubmitFeedback:"#register-submit-feedback",formLoginSubmitFeedback:"#login-submit-feedback",formCreateQuizSubmitFeedback:"#create-quiz-submit-feedback",inputHint:".input-hint",hintWrapper:document.querySelector("#hint-wrapper"),feedbackBackBtn:"#feedback-back-btn",submitFeedbackError:".error-icon-wrapper",registrationConfirmation:".register-confirmation",loginConfirmation:".login-confirmation",confirmationUser:".register-cofirmation-user",loginWrapper:document.querySelector("#login-wrapper"),loginForm:document.querySelector("#login-form"),loginFeedback:document.querySelector("#login-feedback-wrapper"),createQuizFeedback:document.querySelector("#create-quiz-feedback-wrapper"),loginBackBtn:"#login-back-btn",burger:document.querySelector("#burger"),times:document.querySelector("#times"),options:document.querySelector("#options-wrapper"),browseWrapper:document.querySelector("#browse-wrapper"),filterWrapper:document.querySelector("#filter-quiz-wrapper"),filterForm:document.querySelector("#filter-form"),searchWrapper:document.querySelector("#search-quiz-wrapper"),searchForm:document.querySelector("#search-form"),browseBackBtn:"#browse-back-btn",quizWrapper:document.querySelector(".quiz"),moreInfoBtn:".more-info-btn",moreInfoBackBtn:".more-info-back-btn",moreInfoWrapper:".more-info-wrapper",playBtn:".play-btn",quizViewWrapper:document.querySelector("#quiz-view-wrapper"),quizForm:document.querySelector("#quiz-form"),quizContent:document.querySelector("#quiz-content"),quizResults:"#quiz-results",quizScore:"#quiz-score",quizFeedback:"#quiz-feedback",overlay:".overlay",errorOverlay:".error-overlay",quizQuestion:document.querySelector("#question-text"),quitBtn:"#quiz-quit-btn",nextBtn:"#quiz-next-btn",qNumber:"#quiz-which-question",quitConfirmationWrapper:".quiz-quit-confirmation-wrapper",quitYes:"#quiz-quit-yes-btn",quizSubmitBtn:"#quiz-form-submit",quizRetryBtn:"#quiz-retry-btn",settingsOption:document.querySelector("#options-settings-btn"),logOutBtn:"#options-logout-btn",logOutConfirmation:".logout-confirmation-wrapper",logOutForm:"#logout-form",browseBtn:"#browse-btn",createQuizBtn:"#create-quiz-btn",createQuizWrapper:document.querySelector("#create-quiz-wrapper"),createQuizBackBtn:"#create-quiz-back-btn",createQuizForm:document.querySelector("#create-quiz-form"),increment:".increment",decrement:".decrement",generateConfirmation:document.querySelector("#generate-confirmation"),filterBackBtn:"#filter-back-btn",searchBackBtn:"#search-back-btn",filterBtn:"#filter-btn",searchBtn:"#search-btn",browseNextQuizzes:document.querySelector("#browse-quizzes-next"),browsePreviousQuizzes:document.querySelector("#browse-quizzes-previous")},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement("a");return r.className=e,r.id=t,r},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=document.createElement("span");return i.className=e,i.id=t,i.textContent=r,i},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement("div");return r.className=e,r.id=t,r},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement("p");return r.className=e,r.id=t,r},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement("h2");return r.className="is-size-1 is-uppercase form-header ".concat(t),r.textContent=e,r},b=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=m(e,t),a=p("","",r);if(n.appendChild(a),i){var o=f(i);return o.appendChild(n),o}return n},v=function(e){var t=f("is-flex is-flex-direction-column is-justify-content-center is-align-items-center secondary-loader-wrapper"),r=f("loader");t.appendChild(r),e.appendChild(t)},z=function(){var e=document.querySelector(".secondary-loader-wrapper");e.classList.add("shrink"),setTimeout((function(){e.remove()}),500)},L=function(e){var t=document.createElement("li");if(e.length){var r=g("has-text-centered username-text-info mb-5 is-uppercase");r.textContent=e,t.appendChild(r)}else{var i=b("btn","options-logout-btn","log out");t.appendChild(i)}return t},y=function(e){var t=document.createElement("i");return t.className="fas fa-".concat(e),t},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Internal error. Contact app provider.";document.querySelector("body").appendChild(f("error-overlay is-flex is-justify-content-center is-align-items-center has-text-centered"));var t=g("");t.textContent=e,document.querySelector(d.errorOverlay).appendChild(t)},E=function(e){return'\n        <div class="'.concat(e,'-wrapper-if-error">\n            <div class="columns is-mobile m-0 is-vcentered is-multiline hide">\n                <div class="column is-10-mobile is-10 p-2">\n                    <p role="alert" class="status-failure has-text-left">').concat(e,'</p>\n                </div>\n                <div class="column is-2-mobile is-2 text-copper-red has-text-centered p-0 px-2">\n                    <i class="fas fa-exclamation fa-2x"></i>\n                </div>\n                <div class="column is-12-mobile is-12 text-copper-red has-text-centered p-0">\n                    <p class="').concat(e,'-error-text text-copper-red"></p>\n                </div>\n            </div>\n        </div>\n        ')},w=function(e){return'\n        <div class="'.concat(e,'-wrapper-if-ok">\n            <div class="columns is-mobile m-0 is-vcentered is-multiline hide">\n                <div class="column is-10-mobile is-10 p-2">\n                    <p role="alert" class="status-ok has-text-left">').concat(e,'</p>\n                </div>\n                <div class="column is-2-mobile is-2 text-mountain-meadow has-text-centered p-0 px-2">\n                    <i class="fas fa-check fa-2x"></i>\n                </div>\n            </div>\n        </div>\n        ')},C=function(){var e=document.createElement("li");return e.className="logout-confirmation-wrapper background-copper-red hidden-options",e.innerHTML='\n        <p class="logout-confirmation-text">are you sure?</p>\n        <div class="logout-confirmation-btn-wrapper is-flex is-justify-content-center mb-2">\n            <form action="logout.php" method="POST" id="logout-form">\n                <button type="submit" name="yes" class="btn btn-invert mx-3">\n                    <span>yes</span>\n                </button>\n            </form>\n        </div>\n        ',e},k={usernamePattern:/^(\w+( \w+)*){6,}$/,emailPattern:/^([a-zA-Z]{1}[\w\.]{0,20})@([a-zA-Z]{2,})\.([a-zA-Z]{2,5})(\.[a-zA-Z]{2,5})?$/,passwordPattern:/^[a-zA-Z]{4,}$/},x=function(e){e.classList.contains("input-invalid")&&(e.nextElementSibling.nextElementSibling.lastElementChild.classList.add("hide"),e.classList.remove("input-invalid")),e.nextElementSibling.nextElementSibling.firstElementChild.classList.remove("hide"),e.classList.add("input-valid")},F=function(e){e.nextElementSibling.nextElementSibling.firstElementChild.classList.add("hide"),e.classList.remove("input-valid")},S=function(e){e.classList.contains("input-valid")&&(e.nextElementSibling.nextElementSibling.firstElementChild.classList.add("hide"),e.classList.remove("input-valid")),e.nextElementSibling.nextElementSibling.lastElementChild.classList.remove("hide"),e.classList.add("input-invalid")},W=function(e){e.nextElementSibling.nextElementSibling.lastElementChild.classList.add("hide"),e.classList.remove("input-invalid")},A=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=document.querySelector('p[data-id="'.concat(e,'"]'));t?(r.classList.remove("input-invalid"),r.classList.add("input-valid")):(r.classList.remove("input-valid"),r.classList.add("input-invalid"))},T=function(e){if(e.php_error){var t=document.querySelector(".".concat(e.field,"-wrapper-if-error"));return t.firstElementChild.classList.remove("hide"),t.querySelector(".".concat(e.field,"-error-text")).textContent=e.msg,1}return document.querySelector(".".concat(e.field,"-wrapper-if-ok")).firstElementChild.classList.remove("hide"),0},Q=function(){d.mainSectionWrapper.firstElementChild.innerHTML="";var e=f("column is-12-mobile is-12 pt-0 mb-3"),t=f("column is-12-mobile is-12 mt-5 px-0 pb-5 is-relative buttons-wrapper");d.mainSectionWrapper.firstElementChild.appendChild(e),d.mainSectionWrapper.firstElementChild.appendChild(t),d.mainSectionWrapper.firstElementChild.firstElementChild.innerHTML='\n        <div class="perspective-box-far logo-dimensions" id="front-page-logo">\n            <div class="face logo-dimensions front">\n                <img src="imgs/logo-main.png" alt="">\n            </div>\n            <div class="face logo-dimensions top">\n                <img src="imgs/logo-main.png" alt="">\n            </div>\n            <div class="face logo-dimensions left">\n                <img src="imgs/logo-main.png" alt="">\n            </div>\n        </div>\n        ',d.mainSectionWrapper.firstElementChild.lastElementChild.appendChild(b("btn","front-page-start-btn","start","button-wrapper-primary")),document.querySelector("#front-page-footer").classList.remove("hidden-options"),d.mainSectionWrapper.classList.remove("welcome-wrapper"),d.mainSectionWrapper.classList.add("background-space-cadet-gradient"),d.mainSectionWrapper.classList.remove("background-copper-red-gradient")},B=function(){d.mainSectionWrapper.firstElementChild.innerHTML="";var e=f("column is-12-mobile is-12 py-0 mt-5");e.innerHTML='\n        <div class="box-floating logo-dimensions" id="welcome-logo-browse">\n            <div class="db-disc-top">\n                <img src="imgs/logo-browse.png" alt="browse logo">\n            </div>\n            <div class="db-disc-middle">\n                <img src="imgs/logo-browse.png" alt="browse logo">\n            </div>\n            <div class="db-disc-bottom">\n                <img src="imgs/logo-browse.png" alt="browse logo">\n            </div>\n        </div>\n        ';var t=f("column is-12-mobile is-12 px-0 pt-0 pb-5 is-relative"),r=f("button-wrapper-primary"),i=m("btn btn-invert","browse-btn"),n=p();n.textContent="browse",i.appendChild(n),r.appendChild(i),t.appendChild(r);var a=f("column is-12-mobile is-12 py-0");a.innerHTML='\n        <div class="box-floating logo-dimensions" id="">\n            <div class="create-quiz-logo">\n                <img src="imgs/logo-create-quiz.png" alt="">\n            </div>\n        </div>\n        ';var o=f("column is-12-mobile is-12 px-0 pt-0 pb-5 is-relative"),s=f("button-wrapper-primary"),l=m("btn btn-invert","create-quiz-btn"),c=p();c.textContent="create quiz",l.appendChild(c),s.appendChild(l),o.appendChild(s),d.mainSectionWrapper.firstElementChild.appendChild(e),d.mainSectionWrapper.firstElementChild.appendChild(t),d.mainSectionWrapper.firstElementChild.appendChild(a),d.mainSectionWrapper.firstElementChild.appendChild(o),d.mainSectionWrapper.classList.add("welcome-wrapper"),d.mainSectionWrapper.classList.add("background-copper-red-gradient"),d.mainSectionWrapper.classList.remove("background-space-cadet-gradient")},N={method:"GET",headers:{"x-rapidapi-key":"".concat((u={quizzes:[],index:0,questions:[],answers:[],correctAnswers:[],value:[],apiKey:"f8a63bbfd2mshc496f00dfd1b54cp168d18jsn749a1f9f4065"}).apiKey),"x-rapidapi-host":"wordsapiv1.p.rapidapi.com"}},O=function(){var e=c(t().mark((function e(r,i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=c(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=c(t().mark((function e(){var r,i=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,fetch("https://wordsapiv1.p.rapidapi.com/words/?"+new URLSearchParams({letterPattern:"^[A-z]{2,}$",page:r}),N).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=_(d.logOutForm);e.addEventListener("submit",(function(t){t.preventDefault();var r=e.action,i=e.method;H.burger.classList.add("disabled"),H.options.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay)),fetch(r,{method:i,body:new FormData(e)}).then((function(e){return e.json()})).then((function(e){if(e.loggedOut)return I("fetchQuizzes.php");D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("".concat(error.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove();var e=document.querySelector("body").getAttribute("data-screen");"browse"===e||"more-info"===e||"filter"===e||"search"===e?(H.browseWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),H.browseWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),_("body").removeAttribute("data-screen"),"more-info"===e?_(".more-info-wrapper.active").classList.add("scaleY"):"filter"===e?H.filterWrapper.classList.add("scaleY"):"search"===e?H.searchWrapper.classList.add("scaleY"):"quiz"===e&&(D.global.index=0,D.global.questions=[],D.global.answers=[],D.global.correctAnswers=[],D.global.value=[],_(H.quitConfirmationWrapper).classList.toggle("hidden-options"),H.quizViewWrapper.classList.toggle("hidden-options"),null!==_(H.quizResults)&&_(H.quizResults).classList.add("hidden-options"),H.quizContent.classList.remove("hidden-options"),_(H.quitBtn).parentElement.remove(),_(H.quitConfirmationWrapper).remove(),null!==_(H.quizResults)&&_(H.quizResults).remove(),H.quizForm.lastElementChild.innerHTML="",H.quizContent.firstElementChild.firstElementChild.innerHTML="",_("body").removeAttribute("data-screen"))):"create"===e&&(H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("create-tabindex"),H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",H.createQuizForm["quiz-generate"].classList.contains("disabled")||H.createQuizForm["quiz-generate"].classList.add("disabled"),_(H.createQuizBackBtn).parentElement.remove(),_(".main-create-quiz-header").remove(),null!==_(H.formCreateQuizSubmitFeedback)&&_(H.formCreateQuizSubmitFeedback).remove(),_("body").removeAttribute("data-screen")),setTimeout((function(){H.burger.classList.toggle("hide"),H.times.classList.toggle("hide"),H.options.classList.toggle("hidden-options"),D.loadStartScreen(),H.options.firstElementChild.firstElementChild.remove(),H.options.firstElementChild.firstElementChild.remove(),H.options.firstElementChild.firstElementChild.remove(),H.options.classList.remove("options-welcome"),setTimeout((function(){H.burger.classList.remove("disabled")}),250)}),1500)}),2e3)})).then((function(e){return e.json()})).then((function(e){u.quizzes=e.data.fields;var t=document.querySelector("body").getAttribute("data-screen");"browse"===t||"more-info"===t||"filter"===t||"search"===t?(H.browseWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),H.browseWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),_("body").removeAttribute("data-screen"),"more-info"===t?_(".more-info-wrapper.active").classList.add("scaleY"):"filter"===t?H.filterWrapper.classList.add("scaleY"):"search"===t?H.searchWrapper.classList.add("scaleY"):"quiz"===t&&(D.global.index=0,D.global.questions=[],D.global.answers=[],D.global.correctAnswers=[],D.global.value=[],_(H.quitConfirmationWrapper).classList.toggle("hidden-options"),H.quizViewWrapper.classList.toggle("hidden-options"),null!==_(H.quizResults)&&_(H.quizResults).classList.add("hidden-options"),H.quizContent.classList.remove("hidden-options"),_(H.quitBtn).parentElement.remove(),_(H.quitConfirmationWrapper).remove(),null!==_(H.quizResults)&&_(H.quizResults).remove(),H.quizForm.lastElementChild.innerHTML="",H.quizContent.firstElementChild.firstElementChild.innerHTML="",_("body").removeAttribute("data-screen"))):"create"===t&&(H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("create-tabindex"),H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",H.createQuizForm["quiz-generate"].classList.contains("disabled")||H.createQuizForm["quiz-generate"].classList.add("disabled"),_(H.createQuizBackBtn).parentElement.remove(),_(".main-create-quiz-header").remove(),null!==_(H.formCreateQuizSubmitFeedback)&&_(H.formCreateQuizSubmitFeedback).remove(),_("body").removeAttribute("data-screen")),setTimeout((function(){H.burger.classList.toggle("hide"),H.times.classList.toggle("hide"),H.options.classList.toggle("hidden-options"),D.loadStartScreen(),setTimeout((function(){D.removeLoader(),D.removeElement(_(H.overlay)),H.options.firstElementChild.firstElementChild.remove(),H.options.firstElementChild.firstElementChild.remove(),H.options.firstElementChild.firstElementChild.remove(),H.options.classList.remove("options-welcome"),H.burger.classList.remove("disabled")}),250)}),1500)})).catch((function(e){D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),H.burger.classList.toggle("hide"),H.times.classList.toggle("hide"),H.options.classList.toggle("hidden-options"),H.burger.classList.remove("disabled")}),2e3)}))}))},{init:function(){v(d.mainSectionWrapper),"#".concat(d.mainSectionWrapper.firstElementChild.id)===d.startPage?I("fetchQuizzes.php").then((function(e){return e.json()})).then((function(e){u.quizzes=e.data.fields,setTimeout((function(){z(),setTimeout((function(){Q()}),600)}),1e3)})).catch((function(e){z(),q("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){document.querySelector(d.errorOverlay).remove(),Q()}),2e3)})):I("fetchQuizzes.php").then((function(e){return e.json()})).then((function(e){u.quizzes=e.data.fields,setTimeout((function(){z(),setTimeout((function(){B(),H.createQuizForm["user-id"].value=e.user.id,d.settingsOption.parentElement.before(L("You are currently logged in")),d.settingsOption.parentElement.before(L("")),d.settingsOption.parentElement.before(C()),d.options.classList.add("options-welcome"),j(),setTimeout((function(){document.querySelector("#front-page-footer").classList.add("hidden-options")}),150)}),600)}),1e3)})).catch((function(e){z(),q("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){document.querySelector(d.errorOverlay).remove(),Q()}),2e3)}))},UISelectors:d,global:u,patterns:k,createMainBtns:function(){var e=b("btn","front-page-demo-btn","demo","button-wrapper-secondary"),t=b("btn","front-page-login-btn","login");e.appendChild(t);var r=b("side-btn","front-page-register-btn","register","is-flex is-justify-content-end");return e.appendChild(r),e},removeTabindex:function(e){var t=document.querySelectorAll(".".concat(e));Array.from(t).forEach((function(e){e.removeAttribute("tabindex")}))},addTabindex:function(e){var t=document.querySelectorAll(".".concat(e));Array.from(t).forEach((function(e){e.setAttribute("tabindex","-1")}))},createHeader:h,createFormConfirmation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"registered",r=document.querySelector("#".concat(e,"-form")),i=f("".concat(e,"-confirmation is-flex is-justify-content-center is-align-items-center hidden-options background-mountain-meadow-gradient"),"".concat(e,"-confirmation")),n=g("".concat(e,"-cofirmation-text text-ghost-white p-2")),a='\n        User <span class="'.concat(e,'-cofirmation-user is-lowercase text-smoky-black"></span> has been ').concat(t,".\n        ");n.innerHTML=a,i.appendChild(n),r.firstElementChild.appendChild(i)},createSubmitFeedback:function(e){var t=document.querySelector("#".concat(e,"-form")),r=f("submit-feedback mt-4 hide","".concat(e,"-submit-feedback"));r.innerHTML='\n        <div class="columns is-mobile m-0 has-text-centered is-vcentered is-multiline error-status hide">\n            <div class="column is-10-mobile is-10">\n                <p role="alert" class="status-failure">Errors found</p>\n            </div>\n            <div class="column is-2-mobile is-2 background-copper-red error-icon-wrapper">\n                <i class="fas fa-exclamation"></i>\n            </div>\n        </div>\n        <div class="columns is-mobile m-0 has-text-centered is-vcentered is-multiline data-status hide">\n            <div class="column is-12-mobile is-12">\n                <p role="alert" class="status-ok">Busy sending data.</p>\n            </div>\n        </div>\n        ',t.firstElementChild.after(r)},createDataFeedback:function(e,t){var r=document.querySelector("#".concat(t,"-feedback-wrapper")),i=b("control-btn","feedback-back-btn","go back","is-flex is-justify-content-start"),n=f("feedback-header"),a=h("feedback");n.appendChild(a);var o=f("feedback-body mb-5");e.forEach((function(e){o.innerHTML+=E(e),o.innerHTML+=w(e)})),r.appendChild(i),r.appendChild(n),r.appendChild(o)},resetForm:function(e){var t=document.querySelectorAll("#".concat(e,"-form input")),r=document.querySelector("#".concat(e,"-form button"));Array.from(t).forEach((function(e){"hidden"!==e.type&&"number"!==e.type&&(e.value="",e.classList.remove("input-valid"),e.classList.remove("input-invalid"),e.parentElement.lastElementChild.firstElementChild.classList.contains("hide")||e.parentElement.lastElementChild.firstElementChild.classList.add("hide"),e.parentElement.lastElementChild.lastElementChild.classList.contains("hide")||e.parentElement.lastElementChild.lastElementChild.classList.add("hide"))})),r.classList.contains("disabled")||r.classList.add("disabled")},checkIfAllValid:function(e){var t=document.querySelectorAll("#".concat(e,"-form input")),r=document.querySelector("#".concat(e,"-form button")),i=0;return Array.from(t).forEach((function(e){i+=!!e.classList.contains("input-valid")})),i===t.length?(r.classList.remove("disabled"),!0):(r.classList.add("disabled"),!1)},inputValid:x,inputInvalid:S,inputInvalidRemove:W,hintFeedback:A,formFeedback:function(e,t,r){e.test(t.value)?(x(t),A(r)):(S(t),A(r,!1))},lockInput:function(e){var t=document.querySelectorAll("#".concat(e,"-form input"));Array.from(t).forEach((function(e){e.setAttribute("readonly",!0)}))},unlockInput:function(e){var t=document.querySelectorAll("#".concat(e,"-form input"));Array.from(t).forEach((function(e){e.removeAttribute("readonly")}))},createHintIcon:function(){var e=document.createElement("span");e.innerHTML='<img src="./imgs/hint.png" alt="input hints" class="input-hint">',d.registerForm.appendChild(e)},createHintContent:function(){d.hintWrapper.innerHTML='\n        <h2 class="is-size-1 is-uppercase form-header">hint</h2>\n        <p class="text-ghost-white input-invalid" data-id="username">\n            Username field must contain at least 6 characters (letters or numbers only).\n        </p>\n        <hr>\n        <p class="text-ghost-white input-invalid" data-id="email">\n            Email field must contain a valid email address.\n        </p>\n        <hr>\n        <p class="text-ghost-white input-invalid" data-id="password">\n            Password must be at least 8 characters long and contain at least 1 capital letter and 1 special symbol.\n        </p>\n        <hr>\n        <p class="text-ghost-white input-invalid" data-id="confirm-password">\n            Passwords must match.\n        </p>\n        '},handleFormData:function(e,t){var r=document.querySelector("#".concat(t,"-form")),i=0;return Object.keys(e).forEach((function(n){"db"!==e[n].field&&"quiz-db"!==e[n].field&&"session"!==e[n].field&&(T(e[n])?(i++,S(r[e[n].field]),"register"===t&&A(e[n].field,!1)):(x(r[e[n].field]),"register"===t&&A(e[n].field)))})),i+=T(e.db)},checkIfEmpty:function(){""!==d.loginForm.email.value&&k.emailPattern.test(d.loginForm.email.value)&&""!==d.loginForm.password.value?d.loginForm["login-submit"].classList.remove("disabled"):d.loginForm["login-submit"].classList.add("disabled")},loadLoggedInScreen:B,createBrowseOptions:function(){var e=b("control-btn","browse-back-btn","go back","is-flex is-justify-content-space-between is-align-items-center"),t=b("control-btn mx-1","filter-btn","","is-flex is-justify-content-center"),r=y("filter");t.firstElementChild.firstElementChild.appendChild(r);var i=b("control-btn mx-1","search-btn",""),n=y("search");return i.firstElementChild.appendChild(n),t.appendChild(i),e.appendChild(t),e},createLoader:v,removeLoader:z,renderQuizzes:function(e,t){var r="",i=0+3*(e-1),n=3+3*(e-1),a=Math.ceil(t.length/3);if(a){for(var o=i;o<n&&void 0!==t[o];o++){var s=t[o].quiz_id,l=t[o].quiz_type,c=t[o].quiz_name,u=t[o].quiz_answers,m=t[o].quiz_questions,p=new Date(t[o].created_at).toLocaleString(),f=new Date(t[o].updated_at).toLocaleString();new Date(t[o].created_at).getTime()===new Date(t[o].updated_at).getTime()&&(f="NA");var h=t[o].score;null===h?h="NA":h+="%",r+='\n                <div id="'.concat(s,'" class="my-2">\n                    <div class="quiz-header columns is-mobile m-0 is-vcentered has-text-centered py-2 ').concat(l,'">\n                        <div class="column is-3-mobile is-3 py-0" >\n                            <span class="quiz-header-icon text-smoky-black">\n                                ').concat(l[0],'\n                            </span> \n                        </div>\n                        <div class="quiz-header-name column is-9-mobile is-9 py-0" >\n                            ').concat(c,'\n                        </div>\n                    </div>\n                    <div class="quiz-body columns is-mobile m-0 is-vcentered has-text-centered p-0">\n                        <div class="quiz-body-more-info column is-6-mobile is-6 p-0" >\n                            <a id="" class="btn btn-invert btn-small btn-vertical m-0 more-info-btn" >\n                                <span>more info</span>\n                            </a>\n                        </div>\n                        <div class="quiz-body-play column is-6-mobile is-6 p-0" >\n                            <a id="" class="btn btn-invert btn-small btn-vertical m-0 play-btn" >\n                                <span>play</span>\n                            </a> \n                        </div>\n                    </div>\n                </div>\n                <div data-id="').concat(s,'" id ="" class="more-info-wrapper scaleY background-corn-gradient columns is-mobile m-0 has-text-centered p-5 is-multiline is-flex is-flex-direction-column is-justify-content-start" >\n                    <div class="is-flex is-justify-content-start column is-12-mobile is-12 p-0" >\n                        <a id="" class="control-btn more-info-back-btn" >\n                            <span class="">go back</span>\n                        </a>\n                    </div>\n                    <div class="column is-12-mobile is-12 p-0 my-5" >\n                        <div class="more-info-quiz-info columns is-mobile m-0 is-vcentered is-multiline is-flex is-flex-direction-column is-justify-content-center" >\n                            <div class="column is-12-mobile is-12 p-0 my-1" >\n                                <p class="text-smoky-black" > Name: ').concat(c,'</p>\n                            </div>\n                            <div class="column is-12-mobile is-12 p-0 my-1">\n                                <p class="text-smoky-black" > Category: ').concat(l,'</p>\n                            </div>\n                            <div class="column is-12-mobile is-12 p-0 my-1">\n                                <p class="text-smoky-black" > Questions: ').concat(m,'</p>\n                            </div>\n                            <div class="column is-12-mobile is-12 p-0 my-1">\n                                <p class="text-smoky-black" > Answers: ').concat(u,'</p>\n                            </div>\n                            <div class="column is-12-mobile is-12 p-0 my-1">\n                                <p class="text-smoky-black" > Created at: ').concat(p,'</p>\n                            </div>\n                            <div class="column is-12-mobile is-12 p-0 my-1">\n                                <p class="text-smoky-black" > Attempted on: ').concat(f,'</p>\n                            </div>\n                            <div class="column is-12-mobile is-12 p-0 my-1">\n                                <p class="text-smoky-black" > Recent Score: ').concat(h,"</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ")}1===e?d.browsePreviousQuizzes.classList.add("disabled"):d.browsePreviousQuizzes.classList.remove("disabled"),e===a?d.browseNextQuizzes.classList.add("disabled"):d.browseNextQuizzes.classList.remove("disabled"),d.quizWrapper.firstElementChild.innerHTML=r}else d.browseNextQuizzes.classList.add("disabled"),d.browsePreviousQuizzes.classList.add("disabled"),(r=g("has-text-centered")).textContent="No quizzes to display!",d.quizWrapper.firstElementChild.innerHTML="",d.quizWrapper.firstElementChild.appendChild(r);d.quizWrapper.setAttribute("data-page",e)},createQuizResults:function(){var e=f("column is-12-mobile is-12 p-0 hidden-options","quiz-results");return e.innerHTML='\n            <div class="is-flex is-justify-content-center is-align-items-center">\n                <p class="quiz-view-questions">Your result</p>\n            </div>\n            <div class="is-flex is-justify-content-center is-align-items-center my-2">\n                <p id="quiz-score" class="has-text-centered p-2">\n                </p>\n            </div>\n            <div class="is-flex is-justify-content-space-between is-align-items-center">\n                <ul id="quiz-feedback"></ul>\n            </div>\n        ',e},createQuizNavigation:function(){var e=b("control-btn","quiz-quit-btn","quit","is-flex is-justify-content-space-between is-align-items-center column is-12-mobile is-12 p-0"),t=g("quiz-view-questions","quiz-which-question");t.innerHTML='\n        <span id="quiz-current-question" class="">1</span>\n        /\n        <span id="quiz-total-questions" class=""></span>\n        ',e.appendChild(t);var r=b("control-btn","quiz-next-btn","next");e.appendChild(r),d.quizContent.before(e)},createQuizQuitConfirmation:function(){var e=f("quiz-quit-confirmation-wrapper background-copper-red is-flex is-justify-content-center is-align-items-center column is-12-mobile is-12 p-0 hidden-options"),t=g("quiz-quit-confirmation-text");t.textContent="are you sure?";var r=b("btn btn-vertical mx-2 my-0","quiz-quit-yes-btn","yes","quiz-quit-confirmation-btn-wrapper is-flex is-justify-content-center");e.appendChild(t),e.appendChild(r),d.quizContent.before(e)},createDiv:f,removeElement:function(e){e.remove()},shuffleArray:function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),i=[e[t],e[r]];e[r]=i[0],e[t]=i[1]}},createSubmitBtn:function(){var e=document.createElement("button");!function(e,t){for(var r in t)e.setAttribute(r,t[r])}(e,{id:"quiz-form-submit",class:"control-btn",type:"submit",form:"quiz-form",style:"display: none; background-color: transparent;"});var t=p();return t.textContent="submit",e.appendChild(t),e},createBtn:b,fetchQuizzes:I,createOption:L,createLogOutConfirmation:C,loadStartScreen:Q,checkIfEmptyQuiz:function(){var e=d.createQuizForm;""!==e["quiz-name"].value&&"QUIZ TYPE"!==e["quiz-type"].value&&""!==e["quiz-answers"].value&&""!==e["quiz-questions"].value&&e["quiz-answers"].value>=2&&e["quiz-answers"].value<=4&&e["quiz-questions"].value>=4&&e["quiz-questions"].value<=10?e["quiz-generate"].classList.remove("disabled"):e["quiz-generate"].classList.add("disabled")},generateQuizConfirmation:function(){d.generateConfirmation.innerHTML='\n        <div class="column is-12-mobile is-12 p-0 m-0">\n            <div class="" id="generate-quiz-loader">\n                <img src="imgs/logo-main.png" alt="">\n            </div>\n        </div>\n        <div class="column is-12-mobile is-12 p-0 m-0">\n            <p class="login-confirmation-text text-ghost-white p-2">\n                Your quiz is being generated.\n            </p>\n            <p class="login-confirmation-text text-ghost-white p-2" id="generate-quiz-text-feedback">\n                Hold on! This may take a while.\n            </p>\n        </div>\n        '},getWordsByRandomPages:function(){var e=c(t().mark((function e(r,i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P().then((function(e){for(var t=e.results.total,n=[];n.length<r*i;){var a=Math.floor(Math.random()*Math.ceil(t/100));-1===n.indexOf(a)&&n.push(a)}for(var o=[],s=0;s<n.length;s++)o.push(P(n[s]));return Promise.all(o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),getWordDefinitions:function(){var e=c(t().mark((function e(r){var i,n,a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,n={};case 2:if(!(i<r.length)){e.next=16;break}return a=r[i],e.next=6,fetch("https://wordsapiv1.p.rapidapi.com/words/"+a+"/definitions",N);case 6:if((o=e.sent).ok){e.next=9;break}throw new Error(o.statusText);case 9:return e.next=11,o.json();case 11:(s=e.sent).definitions.length&&(n[a]=s.definitions),i++,e.next=2;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRandomWordDefinitions:function(){var e=c(t().mark((function e(r,i){var n,a,o,s,l,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={};case 1:return e.next=4,fetch("https://wordsapiv1.p.rapidapi.com/words/?"+new URLSearchParams({random:"true"}),N);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error(a.statusText);case 7:return e.next=9,a.json();case 9:if(o=e.sent,s=o.word,Object.keys(i).includes(s)){e.next=23;break}return e.next=14,fetch("https://wordsapiv1.p.rapidapi.com/words/"+s+"/definitions",N);case 14:if((l=e.sent).ok){e.next=17;break}throw new Error(l.statusText);case 17:return e.next=19,l.json();case 19:if((c=e.sent).definitions.length&&(n[s]=c.definitions),Object.keys(n).length!==r){e.next=23;break}return e.abrupt("break",25);case 23:e.next=1;break;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),postData:O,loadLogOutEvent:j,createErrorDiv:q,createAnswer:function(e,t){return'\n        <div class="quiz-view-answer-wrapper has-text-centered p-2 m-0">\n            <div class="is-relative">\n                <input type="radio" name="'.concat(e.q_ID,'" value="').concat(t,'" id="').concat(e.a_ID,'" class="btn m-0 p-0">\n                <label for="').concat(e.a_ID,'">\n                    ').concat(e.answer,"\n                </label>\n            </div>\n        </div>\n        ")},appendAnswer:function(e,t){var r=f("");r.innerHTML=e,t.appendChild(r)},createQuestion:function(e,t){e.innerHTML="";var r=g("quiz-view-question");r.textContent=t.toUpperCase(),e.appendChild(r)},createQuestionFeedback:function(e,t){return'\n        <li class="is-flex is-justify-content-space-between is-align-items-center quiz-li-feedback input-'.concat(t,'">\n            <p class="">\n                ').concat(e,'\n            </p>\n            <span class="icon-validation" id="">\n                <i class="fas fa-check icon-').concat(t,'"></i>\n            </span>\n        </li>\n        ')},questionsTemplate:["What is the definition of $?","How would you define $?","How to define $?","What is the meaning of $?","What does $ mean?"],inputValidRemove:F,stripValidation:function(e){var t=d.createQuizForm;e.forEach((function(e){t[e].classList.contains("input-invalid")?W(t[e]):F(t[e])}))}});D.init();var _=document.querySelector.bind(document),H=D.UISelectors;document.addEventListener("click",(function(e){var t;if(("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.startBtn||"#".concat(e.target.id)===H.startBtn)&&(_(H.mainLogo).classList.add("loader-wrapper"),_(H.mainLogoFaceFront).classList.add("loader-face-front"),_(H.mainLogoFaceTop).classList.add("loader-face-top"),_(H.mainLogoFaceLeft).classList.add("loader-face-left"),_(H.startBtn).classList.add("button-dissapear"),setTimeout((function(){_(H.mainLogoFaceFront).classList.add("strip-background-border"),_(H.mainLogoFaceTop).classList.add("strip-background-border"),_(H.mainLogoFaceLeft).classList.add("strip-background-border"),setTimeout((function(){_(H.mainLogo).parentElement.classList.add("logo-enlarge"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.lastElementChild.appendChild(D.createMainBtns())}),500)}),250)}),750)),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.registerBtn||"#".concat(e.target.id)===H.registerBtn)&&(H.mainSectionWrapper.firstElementChild.classList.add("shrink"),setTimeout((function(){H.registerFeedback.before(D.createBtn("control-btn","register-back-btn","go back","is-flex is-justify-content-start")),H.registerFeedback.after(D.createHeader("sign up","main-register-header")),D.createHintIcon(),D.createHintContent(),H.mainSectionWrapper.classList.toggle("hidden-options"),H.registerWrapper.classList.toggle("hidden-options"),D.removeTabindex("register-tabindex"),setTimeout((function(){H.registerForm.username.focus()}),500)}),600)),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.registerBackBtn||"#".concat(e.target.id)===H.registerBackBtn)&&(H.mainSectionWrapper.classList.toggle("hidden-options"),H.registerWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("register-tabindex"),D.resetForm("register"),_(H.registerBackBtn).parentElement.remove(),_(".main-register-header").remove(),null!==_(H.formRegisterSubmitFeedback)&&_(H.formRegisterSubmitFeedback).remove(),_(H.inputHint).parentElement.remove(),H.hintWrapper.innerHTML="",H.registerFeedback.innerHTML=""}),600)),e.target.classList.contains("input-hint")&&H.hintWrapper.classList.toggle("hidden-options"),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.feedbackBackBtn||"#".concat(e.target.id)===H.feedbackBackBtn)&&(_(H.feedbackBackBtn).parentElement.parentElement.classList.toggle("hidden-options"),_(H.submitFeedbackError).parentElement.parentElement.id.includes("create-quiz")&&(H.createQuizWrapper.classList.toggle("is-clipped"),_("body").setAttribute("data-screen","create"))),(e.target.classList.contains(H.submitFeedbackError.substring(1))||e.target.parentElement.classList.contains(H.submitFeedbackError.substring(1))||e.target.parentElement.parentElement.classList.contains(H.submitFeedbackError.substring(1)))&&(_(H.submitFeedbackError).parentElement.parentElement.id.includes("login")?H.loginFeedback.classList.toggle("hidden-options"):_(H.submitFeedbackError).parentElement.parentElement.id.includes("create-quiz")?(H.createQuizFeedback.classList.toggle("hidden-options"),H.createQuizWrapper.scrollTop=0,H.createQuizWrapper.classList.toggle("is-clipped"),_("body").setAttribute("data-screen","feedback")):H.registerFeedback.classList.toggle("hidden-options")),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.loginBtn||"#".concat(e.target.id)===H.loginBtn)&&(H.mainSectionWrapper.firstElementChild.classList.add("shrink"),setTimeout((function(){H.loginFeedback.before(D.createBtn("control-btn","login-back-btn","go back","is-flex is-justify-content-start")),H.loginFeedback.after(D.createHeader("login","main-login-header")),H.mainSectionWrapper.classList.toggle("hidden-options"),H.loginWrapper.classList.toggle("hidden-options"),D.removeTabindex("login-tabindex"),setTimeout((function(){H.loginForm.email.focus()}),500)}),600)),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.loginBackBtn||"#".concat(e.target.id)===H.loginBackBtn)&&(H.mainSectionWrapper.classList.toggle("hidden-options"),H.loginWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("register-tabindex"),D.resetForm("login"),_(H.loginBackBtn).parentElement.remove(),_(".main-login-header").remove(),null!==_(H.formLoginSubmitFeedback)&&_(H.formLoginSubmitFeedback).remove(),H.loginFeedback.innerHTML=""}),600)),("SPAN"===e.target.tagName&&e.target.id===H.burger.id||"svg"===e.target.tagName&&e.target.parentElement.id===H.burger.id||"path"===e.target.tagName&&e.target.parentElement.parentElement.id===H.burger.id)&&(H.burger.classList.toggle("hide"),H.times.classList.toggle("hide"),H.options.classList.toggle("hidden-options")),("SPAN"===e.target.tagName&&e.target.id===H.times.id||"svg"===e.target.tagName&&e.target.parentElement.id===H.times.id||"path"===e.target.tagName&&e.target.parentElement.parentElement.id===H.times.id)&&(H.burger.classList.toggle("hide"),H.times.classList.toggle("hide"),H.options.classList.toggle("hidden-options")),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.demoBtn||"#".concat(e.target.id)===H.demoBtn||"SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.browseBtn||"#".concat(e.target.id)===H.browseBtn)&&(t="SPAN"===e.target.tagName?e.target.parentElement.id:e.target.id,H.filterWrapper.before(D.createBrowseOptions()),H.filterForm.before(D.createBtn("control-btn","filter-back-btn","go back","is-flex is-justify-content-start")),H.filterForm.before(D.createHeader("filter","main-filter-header")),H.searchForm.before(D.createBtn("control-btn","search-back-btn","go back","is-flex is-justify-content-start")),H.searchForm.before(D.createHeader("search","main-search-header")),H.mainSectionWrapper.firstElementChild.classList.add("shrink"),D.renderQuizzes(1,D.global.quizzes),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),H.browseWrapper.classList.toggle("hidden-options"),setTimeout((function(){document.querySelector("#front-page-footer").classList.add("hidden-options")}),500)}),500),"#".concat(t)===H.demoBtn&&_("body").setAttribute("data-id","demo-mode"),_("body").setAttribute("data-screen","browse")),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.browseBackBtn||"#".concat(e.target.id)===H.browseBackBtn)&&("demo-mode"===_("body").getAttribute("data-id")&&(document.querySelector("#front-page-footer").classList.remove("hidden-options"),_("body").setAttribute("data-id","")),H.browseWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),_("body").setAttribute("data-id",""),H.browseWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove()}),500)}),350),_("body").setAttribute("data-screen","")),"SPAN"===e.target.tagName&&e.target.parentElement.classList.contains(H.moreInfoBtn.slice(1))||e.target.classList.contains(H.moreInfoBtn.slice(1))&&"A"===e.target.tagName){var r;r="SPAN"===e.target.tagName?e.target.parentElement.parentElement.parentElement.parentElement.id:e.target.parentElement.parentElement.parentElement.id;var i=document.querySelector('div[data-id="'.concat(r,'"]'));i.classList.remove("scaleY"),i.classList.add("active"),_("body").setAttribute("data-screen","more-info")}if("SPAN"===e.target.tagName&&e.target.parentElement.classList.contains(H.moreInfoBackBtn.slice(1))||e.target.classList.contains(H.moreInfoBackBtn.slice(1))&&"A"===e.target.tagName){var n;n="SPAN"===e.target.tagName?e.target.parentElement.parentElement.parentElement.getAttribute("data-id"):e.target.parentElement.parentElement.getAttribute("data-id");var a=document.querySelector('div[data-id="'.concat(n,'"]'));a.classList.add("scaleY"),a.classList.remove("active"),_("body").setAttribute("data-screen","browse")}if("SPAN"===e.target.tagName&&e.target.parentElement.id===H.browseNextQuizzes.id||e.target.id===H.browseNextQuizzes.id&&"A"===e.target.tagName){var s=parseInt(H.quizWrapper.getAttribute("data-page"));D.renderQuizzes(s+1,D.global.quizzes)}if("SPAN"===e.target.tagName&&e.target.parentElement.id===H.browsePreviousQuizzes.id||e.target.id===H.browsePreviousQuizzes.id&&"A"===e.target.tagName){var l=parseInt(H.quizWrapper.getAttribute("data-page"));D.renderQuizzes(l-1,D.global.quizzes)}if("SPAN"===e.target.tagName&&e.target.parentElement.classList.contains(H.playBtn.slice(1))||e.target.classList.contains(H.playBtn.slice(1))&&"A"===e.target.tagName){var c;_("body").setAttribute("data-screen","quiz"),H.browseWrapper.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay)),c="SPAN"===e.target.tagName?e.target.parentElement.parentElement.parentElement.parentElement.id:e.target.parentElement.parentElement.parentElement.id,H.quizForm.setAttribute("data-id",c);var d="";D.global.quizzes.some((function(e){if(e.quiz_id===c)return d=e.quiz_name,!0}));var u={ID:d};H.burger.classList.add("disabled"),fetch("fetchQsAs.php",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){e.session.loggedIn?setTimeout((function(){D.removeLoader(),D.removeElement(_(H.overlay)),H.quizViewWrapper.classList.toggle("hidden-options"),D.createQuizNavigation(),D.createQuizQuitConfirmation(),H.quizForm["quiz-id"].value=c;var t=e.questions.fields,r=t[D.global.index].question_ID;D.createQuestion(H.quizQuestion,t[D.global.index].question);var i=e.answers.fields,n=[];i.forEach((function(e){e.question_ID===r&&n.push({answer:e.answer,a_ID:e.answer_ID,q_ID:e.question_ID,is_correct:"1"===e.is_correct})})),D.global.index++,D.shuffleArray(n);var a=[],o="";n.forEach((function(e,t){e.is_correct&&a.push(t),o+=D.createAnswer(e,t)})),D.appendAnswer(o,H.quizForm.lastElementChild),_(H.qNumber).lastElementChild.textContent=t.length,H.burger.classList.remove("disabled"),D.global.questions=t,D.global.answers=i,D.global.correctAnswers=a}),1e3):(D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("You are not authorized. Log in first."),setTimeout((function(){_(H.errorOverlay).remove(),document.querySelector("#front-page-footer").classList.remove("hidden-options"),H.browseWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),H.burger.classList.remove("disabled"),_("body").setAttribute("data-id",""),H.browseWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove()}),500)}),350)}),2e3))})).catch((function(e){D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),document.querySelector("#front-page-footer").classList.remove("hidden-options"),H.browseWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),H.burger.classList.remove("disabled"),_("body").setAttribute("data-id",""),H.browseWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.filterWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove(),H.searchWrapper.firstElementChild.remove()}),500)}),350)}),2e3)}))}if("SPAN"===e.target.tagName&&e.target.parentElement.id===H.nextBtn.slice(1)||e.target.id===H.nextBtn.slice(1)&&"A"===e.target.tagName){D.global.index+1===D.global.questions.length&&(_(H.nextBtn).after(D.createSubmitBtn()),_(H.nextBtn).remove(),_(H.quizSubmitBtn).style.display="flex");var m=D.global.questions[D.global.index-1].question_ID,p=o(H.quizForm[m]).filter((function(e){return e.checked}))[0];if(void 0!==p){D.global.value.push(p.value),_(H.qNumber).firstElementChild.textContent=D.global.index+1,H.quizForm.lastElementChild.lastElementChild.classList.add("hidden-options");var f=D.global.questions,g=f[D.global.index].question_ID;D.createQuestion(H.quizQuestion,f[D.global.index].question);var h=[];D.global.answers.forEach((function(e){e.question_ID===g&&h.push({answer:e.answer,a_ID:e.answer_ID,q_ID:e.question_ID,is_correct:"1"===e.is_correct})})),D.global.index++,D.shuffleArray(h);var b="";h.forEach((function(e,t){e.is_correct&&D.global.correctAnswers.push(t),b+=D.createAnswer(e,t)})),D.appendAnswer(b,H.quizForm.lastElementChild)}else D.createErrorDiv("You need to pick your answer!"),setTimeout((function(){_(H.errorOverlay).remove()}),2e3)}("SPAN"===e.target.tagName&&e.target.parentElement.id===H.quitBtn.slice(1)||e.target.id===H.quitBtn.slice(1)&&"A"===e.target.tagName)&&_(H.quitConfirmationWrapper).classList.toggle("hidden-options"),("SPAN"===e.target.tagName&&e.target.parentElement.id===H.quitYes.slice(1)||e.target.id===H.quitYes.slice(1)&&"A"===e.target.tagName)&&(_("body").setAttribute("data-screen","browse"),D.global.index=0,D.global.questions=[],D.global.answers=[],D.global.correctAnswers=[],D.global.value=[],_(H.quitConfirmationWrapper).classList.toggle("hidden-options"),setTimeout((function(){H.quizViewWrapper.classList.toggle("hidden-options"),setTimeout((function(){null!==_(H.quizResults)&&_(H.quizResults).classList.add("hidden-options"),H.quizContent.classList.remove("hidden-options"),_(H.quitBtn).parentElement.remove(),_(H.quitConfirmationWrapper).remove(),null!==_(H.quizResults)&&_(H.quizResults).remove(),H.quizForm.lastElementChild.innerHTML="",H.quizContent.firstElementChild.firstElementChild.innerHTML=""}),500)}),500)),("SPAN"===e.target.tagName&&e.target.parentElement.id===H.quizRetryBtn.slice(1)||e.target.id===H.quizRetryBtn.slice(1)&&"A"===e.target.tagName)&&(H.browseWrapper.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay)),D.global.index=0,D.global.correctAnswers=[],D.global.value=[],setTimeout((function(){D.removeLoader(),D.removeElement(_(H.overlay)),_(H.quizResults).classList.add("hidden-options"),H.quizContent.classList.remove("hidden-options"),H.quizForm.lastElementChild.innerHTML="",H.quizContent.firstElementChild.firstElementChild.firstElementChild.innerHTML="",_(H.qNumber).style.opacity=1,_(H.qNumber).firstElementChild.textContent=1,_(H.quizRetryBtn).before(D.createBtn("control-btn","quiz-next-btn","next")),_(H.quizRetryBtn).remove(),_(H.nextBtn).style.display="flex";var e=D.global.questions,t=e[D.global.index].question_ID;D.createQuestion(H.quizQuestion,e[D.global.index].question);var r=[];D.global.answers.forEach((function(e){e.question_ID===t&&r.push({answer:e.answer,a_ID:e.answer_ID,q_ID:e.question_ID,is_correct:"1"===e.is_correct})})),D.global.index++,D.shuffleArray(r);var i="";r.forEach((function(e,t){e.is_correct&&D.global.correctAnswers.push(t),i+=D.createAnswer(e,t)})),D.appendAnswer(i,H.quizForm.lastElementChild),_(H.qNumber).lastElementChild.textContent=D.global.questions.length}),1e3)),("SPAN"===e.target.tagName&&e.target.parentElement.id===H.createQuizBtn.slice(1)||e.target.id===H.createQuizBtn.slice(1)&&"A"===e.target.tagName)&&(_("body").setAttribute("data-screen","create"),H.mainSectionWrapper.firstElementChild.classList.add("shrink"),setTimeout((function(){H.createQuizForm.before(D.createBtn("control-btn","create-quiz-back-btn","go back","is-flex is-justify-content-start")),H.createQuizForm.before(D.createHeader("create quiz","main-create-quiz-header")),H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.createQuizForm["quiz-name"].focus()}),500)}),600)),("SPAN"===e.target.tagName&&"#".concat(e.target.parentElement.id)===H.createQuizBackBtn||"#".concat(e.target.id)===H.createQuizBackBtn)&&(_("body").setAttribute("data-screen",""),H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("create-tabindex"),H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",D.stripValidation(["quiz-name","quiz-type","quiz-questions","quiz-answers"]),H.createQuizForm["quiz-generate"].classList.contains("disabled")||H.createQuizForm["quiz-generate"].classList.add("disabled"),_(H.createQuizBackBtn).parentElement.remove(),_(".main-create-quiz-header").remove(),null!==_(H.formCreateQuizSubmitFeedback)&&_(H.formCreateQuizSubmitFeedback).remove()}),600)),e.target.classList.contains("increment")&&(Number(e.target.previousElementSibling.value)>=Number(e.target.previousElementSibling.max)||(e.target.previousElementSibling.value++,D.checkIfEmptyQuiz()),e.preventDefault()),e.target.classList.contains("decrement")&&(Number(e.target.nextElementSibling.value)>Number(e.target.nextElementSibling.min)&&(e.target.nextElementSibling.value--,D.checkIfEmptyQuiz()),e.preventDefault()),("SPAN"===e.target.tagName&&e.target.parentElement.id===H.logOutBtn.slice(1)||e.target.id===H.logOutBtn.slice(1)&&"A"===e.target.tagName)&&_(H.logOutConfirmation).classList.toggle("hidden-options")})),H.registerForm.username.addEventListener("keyup",(function(){D.formFeedback(D.patterns.usernamePattern,H.registerForm.username,"username"),D.checkIfAllValid("register")})),H.registerForm.username.addEventListener("blur",(function(){D.formFeedback(D.patterns.usernamePattern,H.registerForm.username,"username"),D.checkIfAllValid("register")})),H.registerForm.email.addEventListener("keyup",(function(){D.formFeedback(D.patterns.emailPattern,H.registerForm.email,"email"),D.checkIfAllValid("register")})),H.registerForm.email.addEventListener("blur",(function(){D.formFeedback(D.patterns.emailPattern,H.registerForm.email,"email"),D.checkIfAllValid("register")})),H.registerForm.password.addEventListener("keyup",(function(){D.formFeedback(D.patterns.passwordPattern,H.registerForm.password,"password"),H.registerForm.password.classList.contains("input-valid")&&""!==H.registerForm.password.value&&H.registerForm["confirm-password"].value===H.registerForm.password.value?D.inputValid(H.registerForm["confirm-password"]):D.inputInvalid(H.registerForm["confirm-password"]),D.checkIfAllValid("register")})),H.registerForm.password.addEventListener("blur",(function(){D.formFeedback(D.patterns.passwordPattern,H.registerForm.password,"password"),H.registerForm.password.classList.contains("input-valid")&&""!==H.registerForm.password.value&&H.registerForm["confirm-password"].value===H.registerForm.password.value?D.inputValid(H.registerForm["confirm-password"]):D.inputInvalid(H.registerForm["confirm-password"]),D.checkIfAllValid("register")})),H.registerForm["confirm-password"].addEventListener("keyup",(function(){H.registerForm.password.classList.contains("input-valid")&&""!==H.registerForm.password.value&&H.registerForm["confirm-password"].value===H.registerForm.password.value?(D.inputValid(H.registerForm["confirm-password"]),D.hintFeedback("confirm-password")):(D.inputInvalid(H.registerForm["confirm-password"]),D.hintFeedback("confirm-password",!1)),D.checkIfAllValid("register")})),H.registerForm["confirm-password"].addEventListener("blur",(function(){H.registerForm.password.classList.contains("input-valid")&&""!==H.registerForm.password.value&&H.registerForm["confirm-password"].value===H.registerForm.password.value?(D.inputValid(H.registerForm["confirm-password"]),D.hintFeedback("confirm-password")):(D.inputInvalid(H.registerForm["confirm-password"]),D.hintFeedback("confirm-password",!1)),D.checkIfAllValid("register")})),H.loginForm.email.addEventListener("keyup",(function(){D.checkIfEmpty()})),H.loginForm.email.addEventListener("blur",(function(){D.checkIfEmpty()})),H.loginForm.password.addEventListener("keyup",(function(){D.checkIfEmpty()})),H.loginForm.password.addEventListener("blur",(function(){D.checkIfEmpty()})),H.createQuizForm["quiz-name"].addEventListener("keyup",(function(){D.checkIfEmptyQuiz()})),H.createQuizForm["quiz-name"].addEventListener("blur",(function(){D.checkIfEmptyQuiz()})),H.createQuizForm["quiz-type"].addEventListener("change",(function(){D.checkIfEmptyQuiz()})),H.createQuizForm["quiz-answers"].addEventListener("keyup",(function(){D.checkIfEmptyQuiz()})),H.createQuizForm["quiz-answers"].addEventListener("blur",(function(){D.checkIfEmptyQuiz()})),H.createQuizForm["quiz-questions"].addEventListener("keyup",(function(){D.checkIfEmptyQuiz()})),H.createQuizForm["quiz-questions"].addEventListener("blur",(function(){D.checkIfEmptyQuiz()})),H.registerForm.addEventListener("submit",(function(e){e.preventDefault(),null===_(H.formRegisterSubmitFeedback)&&D.createSubmitFeedback("register");var t=_(H.formRegisterSubmitFeedback);H.registerFeedback.innerHTML="",D.createDataFeedback(["username","email","password","confirm-password","db"],"register"),t.classList.contains("hide")?(t.classList.remove("hide"),t.lastElementChild.classList.remove("hide")):(t.firstElementChild.classList.add("hide"),t.lastElementChild.classList.remove("hide")),H.burger.classList.add("disabled"),D.checkIfAllValid("register")&&(D.lockInput("register"),H.registerForm["register-submit"].classList.contains("disabled")||H.registerForm["register-submit"].classList.add("disabled"),H.registerWrapper.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay)),fetch(H.registerForm.action,{method:H.registerForm.method,body:new FormData(H.registerForm)}).then((function(e){return e.json()})).then((function(e){D.handleFormData(e,"register")?setTimeout((function(){t.lastElementChild.classList.add("hide"),t.firstElementChild.classList.remove("hide"),D.unlockInput("register"),H.burger.classList.remove("disabled"),D.removeLoader(),D.removeElement(_(H.overlay))}),500):(D.createFormConfirmation("register"),setTimeout((function(){D.unlockInput("register"),t.classList.add("hide"),t.firstElementChild.classList.add("hide"),setTimeout((function(){_(H.confirmationUser).textContent=H.registerForm.username.value,_(H.registrationConfirmation).classList.remove("hidden-options"),D.resetForm("register"),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),H.registerWrapper.classList.toggle("hidden-options"),D.addTabindex("register-tabindex"),H.loginFeedback.before(D.createBtn("control-btn","login-back-btn","go back","is-flex is-justify-content-start")),H.loginFeedback.after(D.createHeader("login","main-login-header")),H.mainSectionWrapper.classList.toggle("hidden-options"),H.loginWrapper.classList.toggle("hidden-options"),H.burger.classList.remove("disabled"),D.removeLoader(),D.removeElement(_(H.overlay)),setTimeout((function(){D.removeTabindex("login-tabindex"),H.loginForm.email.focus(),_(H.registerBackBtn).parentElement.remove(),_(".main-register-header").remove(),t.remove(),_(H.inputHint).parentElement.remove(),H.hintWrapper.innerHTML="",H.registerFeedback.innerHTML="",_(H.registrationConfirmation).remove()}),600)}),1e3)}),500)}),1e3))})).catch((function(e){D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),H.mainSectionWrapper.classList.toggle("hidden-options"),H.registerWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.unlockInput("register"),H.burger.classList.remove("disabled"),D.addTabindex("register-tabindex"),D.resetForm("register"),_(H.registerBackBtn).parentElement.remove(),_(".main-register-header").remove(),null!==_(H.formRegisterSubmitFeedback)&&_(H.formRegisterSubmitFeedback).remove(),_(H.inputHint).parentElement.remove(),H.hintWrapper.innerHTML="",H.registerFeedback.innerHTML=""}),600)}),2e3)})))})),H.loginForm.addEventListener("submit",(function(e){e.preventDefault(),null===_(H.formLoginSubmitFeedback)&&D.createSubmitFeedback("login");var t=_(H.formLoginSubmitFeedback);H.loginFeedback.innerHTML="",D.createDataFeedback(["email","password","db"],"login"),""===H.loginForm.email.value||!D.patterns.emailPattern.test(H.loginForm.email.value)||""===H.loginForm.password.value||H.loginForm.email.hasAttribute("readonly")||H.loginForm.password.hasAttribute("readonly")||(t.classList.contains("hide")?(t.classList.remove("hide"),t.lastElementChild.classList.remove("hide")):(t.firstElementChild.classList.add("hide"),t.lastElementChild.classList.remove("hide")),D.lockInput("login"),H.loginForm["login-submit"].classList.contains("disabled")||H.loginForm["login-submit"].classList.add("disabled"),H.burger.classList.add("disabled"),H.loginWrapper.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay)),fetch(H.loginForm.action,{method:H.loginForm.method,body:new FormData(H.loginForm)}).then((function(e){return e.json()})).then((function(e){if(e.session.loggedIn)D.unlockInput("login"),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),H.loginWrapper.classList.toggle("hidden-options"),D.addTabindex("login-tabindex"),H.mainSectionWrapper.classList.toggle("hidden-options"),setTimeout((function(){D.loadLoggedInScreen(),H.settingsOption.parentElement.before(D.createOption("You are currently logged in")),H.settingsOption.parentElement.before(D.createOption("")),H.settingsOption.parentElement.before(D.createLogOutConfirmation()),H.options.classList.add("options-welcome"),D.loadLogOutEvent(),H.mainSectionWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.firstElementChild.classList.toggle("shrink"),D.removeLoader(),D.removeElement(_(H.overlay)),setTimeout((function(){H.burger.classList.remove("disabled"),_(H.loginBackBtn).parentElement.remove(),_(".main-login-header").remove(),t.remove(),H.loginFeedback.innerHTML="",_(H.loginConfirmation).remove(),document.querySelector("#front-page-footer").classList.add("hidden-options")}),500)}),350)}),1e3);else{if(!D.handleFormData(e,"login"))return D.createFormConfirmation("login","logged in"),t.classList.add("hide"),t.firstElementChild.classList.add("hide"),_(H.loginConfirmation).classList.remove("hidden-options"),D.resetForm("login"),H.createQuizForm["user-id"].value=e.session.user_id,D.fetchQuizzes("fetchQuizzes.php");setTimeout((function(){t.lastElementChild.classList.add("hide"),t.firstElementChild.classList.remove("hide"),D.unlockInput("login");var e=document.querySelectorAll("#login-form input");Array.from(e).forEach((function(e){e.classList.remove("input-valid"),e.classList.remove("input-invalid"),e.parentElement.lastElementChild.firstElementChild.classList.contains("hide")||e.parentElement.lastElementChild.firstElementChild.classList.add("hide"),e.parentElement.lastElementChild.lastElementChild.classList.contains("hide")||e.parentElement.lastElementChild.lastElementChild.classList.add("hide")})),D.removeLoader(),D.removeElement(_(H.overlay)),H.burger.classList.remove("disabled")}),500)}})).then((function(e){return void 0!==e?e.json():void 0})).then((function(e){void 0!==e&&(D.global.quizzes=e.data.fields,D.unlockInput("login"),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),H.loginWrapper.classList.toggle("hidden-options"),D.addTabindex("login-tabindex"),H.mainSectionWrapper.classList.toggle("hidden-options"),setTimeout((function(){D.loadLoggedInScreen(),H.settingsOption.parentElement.before(D.createOption("You are currently logged in")),H.settingsOption.parentElement.before(D.createOption("")),H.settingsOption.parentElement.before(D.createLogOutConfirmation()),H.options.classList.add("options-welcome"),D.loadLogOutEvent(),H.mainSectionWrapper.classList.toggle("hidden-options"),H.mainSectionWrapper.firstElementChild.classList.toggle("shrink"),D.removeLoader(),D.removeElement(_(H.overlay)),setTimeout((function(){H.burger.classList.remove("disabled"),_(H.loginBackBtn).parentElement.remove(),_(".main-login-header").remove(),t.remove(),H.loginFeedback.innerHTML="",_(H.loginConfirmation).remove(),document.querySelector("#front-page-footer").classList.add("hidden-options")}),500)}),350)}),1e3))})).catch((function(e){D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),H.mainSectionWrapper.classList.toggle("hidden-options"),H.loginWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.unlockInput("login"),H.burger.classList.remove("disabled"),D.addTabindex("login-tabindex"),D.resetForm("login"),_(H.loginBackBtn).parentElement.remove(),_(".main-login-header").remove(),null!==_(H.formLoginSubmitFeedback)&&_(H.formLoginSubmitFeedback).remove(),H.loginFeedback.innerHTML=""}),600)}),2e3)})))})),H.quizForm.addEventListener("submit",(function(e){e.preventDefault();var t=D.global.questions[D.global.index-1].question_ID;if(void 0!==o(H.quizForm[t]).filter((function(e){return e.checked}))[0]){H.burger.classList.add("disabled"),H.quizViewWrapper.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay)),H.quizContent.classList.toggle("hidden-options"),_(H.qNumber).style.opacity=0,_(H.quizSubmitBtn).after(D.createBtn("control-btn","quiz-retry-btn","retry")),_(H.quizSubmitBtn).remove(),_(H.quizRetryBtn).style.display="flex";var r=0,i="";D.global.questions.forEach((function(e,t){H.quizForm[e.question_ID].value==D.global.correctAnswers[t]?(r++,i+=D.createQuestionFeedback(e.question,"valid")):i+=D.createQuestionFeedback(e.question,"invalid")}));var n=H.quizForm.getAttribute("data-id"),a=r/D.global.questions.length*100,s={finalScore:a,quizID:n};fetch(H.quizForm.action,{method:H.quizForm.method,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(){return D.fetchQuizzes("fetchQuizzes.php")})).then((function(e){return e.json()})).then((function(e){D.global.quizzes=e.data.fields,D.renderQuizzes(1,D.global.quizzes),setTimeout((function(){D.removeLoader(),D.removeElement(_(H.overlay)),H.quizContent.after(D.createQuizResults()),_(H.quizResults).classList.toggle("hidden-options"),_(H.quizScore).textContent=a+"%",_(H.quizFeedback).innerHTML=i,H.burger.classList.remove("disabled")}),1e3)})).catch((function(e){D.removeLoader(),D.removeElement(_(H.overlay)),D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),D.global.index=0,D.global.questions=[],D.global.answers=[],D.global.correctAnswers=[],D.global.value=[],H.quizViewWrapper.classList.toggle("hidden-options"),setTimeout((function(){null!==_(H.quizResults)&&_(H.quizResults).classList.add("hidden-options"),H.quizContent.classList.remove("hidden-options"),_(H.quitBtn).parentElement.remove(),_(H.quitConfirmationWrapper).remove(),null!==_(H.quizResults)&&_(H.quizResults).remove(),H.quizForm.lastElementChild.innerHTML="",H.quizContent.firstElementChild.firstElementChild.innerHTML="",H.burger.classList.remove("disabled")}),500)}),2e3)}))}else D.createErrorDiv("You need to pick your answer!"),setTimeout((function(){_(H.errorOverlay).remove()}),2e3)})),H.createQuizForm.addEventListener("submit",(function(e){e.preventDefault();var t=H.createQuizForm,r=t["quiz-name"].value,i=t["quiz-type"].value,a=t["quiz-answers"].value,o=t["quiz-questions"].value;null===_(H.formCreateQuizSubmitFeedback)&&D.createSubmitFeedback("create-quiz");var s=_(H.formCreateQuizSubmitFeedback);if(H.createQuizFeedback.innerHTML="",D.createDataFeedback(["quiz-name","quiz-type","quiz-answers","quiz-questions","quiz-db"],"create-quiz"),H.createQuizWrapper.scrollTop=0,!(""!==t["quiz-name"].value&&"QUIZ TYPE"!==t["quiz-type"].value&&""!==t["quiz-answers"].value&&""!==t["quiz-questions"].value&&t["quiz-answers"].value>=2&&t["quiz-answers"].value<=4&&t["quiz-questions"].value>=4&&t["quiz-questions"].value<=10)||t["quiz-name"].hasAttribute("readonly")||t["quiz-type"].hasAttribute("disabled")||t["quiz-answers"].hasAttribute("readonly")||t["quiz-questions"].hasAttribute("readonly"))D.createErrorDiv("Specify quiz parameters!"),setTimeout((function(){_(H.errorOverlay).remove()}),2e3);else{s.classList.contains("hide")?(s.classList.remove("hide"),s.lastElementChild.classList.remove("hide")):(s.firstElementChild.classList.add("hide"),s.lastElementChild.classList.remove("hide")),t["quiz-name"].setAttribute("readonly",!0),t["quiz-type"].setAttribute("disabled",!0),t["quiz-select"].value=i,t["quiz-answers"].setAttribute("readonly",!0),t["quiz-questions"].setAttribute("readonly",!0),t["quiz-generate"].classList.add("disabled"),H.burger.classList.add("disabled"),H.createQuizWrapper.appendChild(D.createDiv(H.overlay.slice(1))),D.createLoader(_(H.overlay));var l=[];fetch(t.action,{method:t.method,body:new FormData(t)}).then((function(e){return e.json()})).then((function(e){if(D.handleFormData(e,"create-quiz"))throw!0;return D.removeLoader(),D.removeElement(_(H.overlay)),H.createQuizWrapper.scrollTop=0,H.createQuizWrapper.classList.toggle("is-clipped"),D.generateQuizConfirmation(),_("body").setAttribute("data-screen","quiz-confirmation"),H.generateConfirmation.classList.remove("hidden-options"),H.generateConfirmation.firstElementChild.firstElementChild.classList.add("start-loader"),H.generateConfirmation.lastElementChild.lastElementChild.textContent="Fetching words...",D.getWordsByRandomPages(o,a)})).then((function(e){H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",t["quiz-name"].classList.remove("input-valid"),t["quiz-name"].classList.remove("input-invalid"),t["quiz-name"].parentElement.lastElementChild.firstElementChild.classList.contains("hide")||t["quiz-name"].parentElement.lastElementChild.firstElementChild.classList.add("hide"),t["quiz-name"].parentElement.lastElementChild.lastElementChild.classList.contains("hide")||t["quiz-name"].parentElement.lastElementChild.lastElementChild.classList.add("hide"),t["quiz-type"].classList.remove("input-valid"),t["quiz-type"].classList.remove("input-invalid"),t["quiz-type"].parentElement.lastElementChild.firstElementChild.classList.contains("hide")||t["quiz-type"].parentElement.lastElementChild.firstElementChild.classList.add("hide"),t["quiz-type"].parentElement.lastElementChild.lastElementChild.classList.contains("hide")||t["quiz-type"].parentElement.lastElementChild.lastElementChild.classList.add("hide"),t["quiz-answers"].classList.remove("input-valid"),t["quiz-answers"].classList.remove("input-invalid"),t["quiz-answers"].parentElement.lastElementChild.firstElementChild.classList.contains("hide")||t["quiz-answers"].parentElement.lastElementChild.firstElementChild.classList.add("hide"),t["quiz-answers"].parentElement.lastElementChild.lastElementChild.classList.contains("hide")||t["quiz-answers"].parentElement.lastElementChild.lastElementChild.classList.add("hide"),t["quiz-questions"].classList.remove("input-valid"),t["quiz-questions"].classList.remove("input-invalid"),t["quiz-questions"].parentElement.lastElementChild.firstElementChild.classList.contains("hide")||t["quiz-questions"].parentElement.lastElementChild.firstElementChild.classList.add("hide"),t["quiz-questions"].parentElement.lastElementChild.lastElementChild.classList.contains("hide")||t["quiz-questions"].parentElement.lastElementChild.lastElementChild.classList.add("hide"),t["quiz-generate"].classList.contains("disabled")||t["quiz-generate"].classList.add("disabled");for(var r=[],i=[];r.length<o*a;){var n=Math.floor(100*Math.random())+1;-1===r.indexOf(n)&&r.push(n)}return e.forEach((function(e,t){i.push(e.results.data[r[t]])})),H.generateConfirmation.lastElementChild.lastElementChild.textContent="Fetching definitions...",D.getWordDefinitions(i)})).then((function(e){if(l=e,Object.keys(l).length!==o*a){var t=o*a-Object.keys(l).length;return D.getRandomWordDefinitions(t,l)}})).then((function(e){void 0!==e&&(l=n(n({},l),e));var t=D.questionsTemplate,i={};for(var s in l){var c=void 0,d="";if(l[s].length>1){var u=Math.floor(Math.random()*l[s].length);c=l[s][u].definition,d=l[s][u].partOfSpeech}else c=l[s][0].definition,d=l[s][0].partOfSpeech;i[s]={},i[s].correctAnswer=c;var m=Math.floor(Math.random()*t.length);i[s].question=t[m].replace("$","".concat(s," (").concat(d,")"))}for(var p=Object.keys(i),f=[];f.length<o;){var g=Math.floor(Math.random()*p.length);-1===f.indexOf(g)&&f.push(g)}var h={},b=[];p.forEach((function(e,t){if(f.includes(t))h[e]=i[e];else{var r=i[e];b.push(r.correctAnswer)}}));var v={questions:h,answers:b,quizID:r,answersTotal:a};return H.generateConfirmation.lastElementChild.lastElementChild.textContent="Saving...",D.postData(v,"store.php")})).then((function(e){return e.json()})).then((function(e){var r=0;if(Object.keys(e).forEach((function(t){e[t].php_error&&r++})),r)throw new Error(e.db.msg);D.global.quizzes=e.snapshot,H.generateConfirmation.lastElementChild.lastElementChild.textContent="Done!",H.generateConfirmation.firstElementChild.firstElementChild.classList.remove("start-loader"),setTimeout((function(){t["quiz-name"].removeAttribute("readonly"),t["quiz-type"].removeAttribute("disabled"),t["quiz-answers"].removeAttribute("readonly"),t["quiz-questions"].removeAttribute("readonly"),t["quiz-generate"].classList.remove("disabled"),H.burger.classList.remove("disabled"),H.generateConfirmation.classList.add("hidden-options"),H.createQuizWrapper.classList.toggle("is-clipped"),H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("create-tabindex"),H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",H.createQuizForm["quiz-generate"].classList.contains("disabled")||H.createQuizForm["quiz-generate"].classList.add("disabled"),_(H.createQuizBackBtn).parentElement.remove(),_(".main-create-quiz-header").remove(),null!==_(H.formCreateQuizSubmitFeedback)&&_(H.formCreateQuizSubmitFeedback).remove(),H.filterWrapper.before(D.createBrowseOptions()),H.filterForm.before(D.createBtn("control-btn","filter-back-btn","go back","is-flex is-justify-content-start")),H.filterForm.before(D.createHeader("filter","main-filter-header")),H.searchForm.before(D.createBtn("control-btn","search-back-btn","go back","is-flex is-justify-content-start")),H.searchForm.before(D.createHeader("search","main-search-header")),H.mainSectionWrapper.firstElementChild.classList.add("shrink"),D.renderQuizzes(1,D.global.quizzes),setTimeout((function(){H.mainSectionWrapper.classList.toggle("hidden-options"),H.browseWrapper.classList.toggle("hidden-options"),_("body").setAttribute("data-screen","browse"),D.stripValidation(["quiz-name","quiz-type","quiz-questions","quiz-answers"])}),500)}),600)}),600)})).catch((function(e){if(!0===e)t["quiz-name"].removeAttribute("readonly"),t["quiz-type"].removeAttribute("disabled"),t["quiz-answers"].removeAttribute("readonly"),t["quiz-questions"].removeAttribute("readonly"),setTimeout((function(){s.lastElementChild.classList.add("hide"),s.firstElementChild.classList.remove("hide"),D.stripValidation(["quiz-name","quiz-type","quiz-questions","quiz-answers"]),t["quiz-generate"].classList.remove("disabled"),D.removeLoader(),D.removeElement(_(H.overlay)),H.burger.classList.remove("disabled")}),2e3);else{var r=_("body").getAttribute("data-screen");"create"===r?(D.removeLoader(),D.removeElement(_(H.overlay)),H.createQuizWrapper.classList.toggle("is-clipped"),D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),_("body").setAttribute("data-screen",""),H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("create-tabindex"),H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",H.createQuizForm["quiz-generate"].classList.contains("disabled")||H.createQuizForm["quiz-generate"].classList.add("disabled"),_(H.createQuizBackBtn).parentElement.remove(),_(".main-create-quiz-header").remove(),null!==_(H.formCreateQuizSubmitFeedback)&&_(H.formCreateQuizSubmitFeedback).remove(),H.burger.classList.remove("disabled"),H.createQuizWrapper.classList.toggle("is-clipped")}),600)}),2e3)):"quiz-confirmation"===r&&(D.createErrorDiv("".concat(e.message,". Please try again later or contact app provider.")),setTimeout((function(){_(H.errorOverlay).remove(),H.generateConfirmation.firstElementChild.firstElementChild.classList.remove("start-loader"),setTimeout((function(){H.generateConfirmation.classList.add("hidden-options"),H.createQuizWrapper.classList.toggle("is-clipped"),t["quiz-name"].removeAttribute("readonly"),t["quiz-type"].removeAttribute("disabled"),t["quiz-answers"].removeAttribute("readonly"),t["quiz-questions"].removeAttribute("readonly"),t["quiz-generate"].classList.remove("disabled"),H.burger.classList.remove("disabled"),_("body").setAttribute("data-screen",""),H.mainSectionWrapper.classList.toggle("hidden-options"),H.createQuizWrapper.classList.toggle("hidden-options"),setTimeout((function(){H.mainSectionWrapper.firstElementChild.classList.remove("shrink"),D.addTabindex("create-tabindex"),H.createQuizForm.reset(),H.createQuizForm["quiz-select"].value="",H.createQuizForm["quiz-generate"].classList.contains("disabled")||H.createQuizForm["quiz-generate"].classList.add("disabled"),_(H.createQuizBackBtn).parentElement.remove(),_(".main-create-quiz-header").remove(),null!==_(H.formCreateQuizSubmitFeedback)&&_(H.formCreateQuizSubmitFeedback).remove()}),600)}),600)}),2e3))}}))}}))})()})();